<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · ModelAnalysis.jl</title><meta name="title" content="API · ModelAnalysis.jl"/><meta property="og:title" content="API · ModelAnalysis.jl"/><meta property="twitter:title" content="API · ModelAnalysis.jl"/><meta name="description" content="Documentation for ModelAnalysis.jl."/><meta property="og:description" content="Documentation for ModelAnalysis.jl."/><meta property="twitter:description" content="Documentation for ModelAnalysis.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ModelAnalysis.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../ensembles/">Ensembles</a></li><li><a class="tocitem" href="../plotting-with-makie/">Plotting with Makie</a></li><li class="is-active"><a class="tocitem" href>API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/fesmc/ModelAnalysis.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/fesmc/ModelAnalysis.jl/blob/main/docs/src/modelanalysis-api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="ModelAnalysis-API"><a class="docs-heading-anchor" href="#ModelAnalysis-API">ModelAnalysis API</a><a id="ModelAnalysis-API-1"></a><a class="docs-heading-anchor-permalink" href="#ModelAnalysis-API" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="ModelAnalysis.Colorbar_logdiff!-Tuple{Any, Any}"><a class="docstring-binding" href="#ModelAnalysis.Colorbar_logdiff!-Tuple{Any, Any}"><code>ModelAnalysis.Colorbar_logdiff!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Colorbar_logdiff!(fig_now,hmpos)</code></pre><p>TBW</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Plots.jl#L104-L108">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.MissingToNaN-Tuple{Any}"><a class="docstring-binding" href="#ModelAnalysis.MissingToNaN-Tuple{Any}"><code>ModelAnalysis.MissingToNaN</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">MissingToNaN(dat)</code></pre><p>Convert <code>missing</code> values in an array-like object to <code>NaN</code>. Most importantly, ensures that <code>missing</code> is removed from the eltype of the array too.</p><p>The input is first converted to floating-point type element-wise, and all <code>missing</code> values are replaced with <code>NaN</code> using <code>coalesce</code>.</p><p><strong>Arguments</strong></p><ul><li><code>dat</code>: Array-like object containing numeric values and possibly <code>missing</code>.</li></ul><p><strong>Returns</strong></p><p>An array of floating-point values where all <code>missing</code> entries have been replaced by <code>NaN</code>.</p><p><strong>Notes</strong></p><ul><li>All elements are converted to floating-point using <code>float.(dat)</code>.</li><li>This function allocates a new array and does not modify the input in place.</li><li>Non-numeric values will result in a conversion error.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">dat = [1.0, missing, 3.5]
clean = MissingToNaN(dat)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Functions.jl#L2-L28">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.clean-Tuple{Any}"><a class="docstring-binding" href="#ModelAnalysis.clean-Tuple{Any}"><code>ModelAnalysis.clean</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">clean(var; mask=nothing, zrange=nothing, scale=identity, outlier_value=NaN)</code></pre><p>Clean and post-process an array-like variable.</p><p>The function performs the following operations in order:</p><ol><li>Convert all <code>missing</code> values in <code>var</code> to <code>NaN</code>.</li><li>Apply an optional boolean mask, setting values outside the mask to <code>NaN</code>.</li><li>Enforce a value range (<code>zrange</code>), either clipping values to the range or replacing out-of-range values with a specified <code>outlier_value</code>.</li><li>Apply a scaling function element-wise.</li></ol><p><strong>Arguments</strong></p><ul><li><code>var</code>: Array-like numeric variable to be cleaned.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>mask</code>: Boolean array of the same shape as <code>var</code>. Entries where <code>mask == false</code> are set to <code>NaN</code>. If <code>nothing</code>, no mask is applied.</li><li><code>zrange</code>: Tuple <code>(zmin, zmax)</code> specifying the allowed value range. If <code>nothing</code>, the range is inferred from the non-<code>NaN</code> values of <code>var</code>.</li><li><code>scale</code>: Function applied element-wise to the cleaned variable (default: <code>identity</code>).</li><li><code>outlier_value</code>: Controls how values outside <code>zrange</code> are handled:<ul><li><code>nothing</code>: values are clipped to <code>zrange</code></li><li>scalar: all out-of-range values are set to this value</li><li>two-element vector or tuple: values below <code>zmin</code> are set to <code>outlier_value[1]</code>, and values above <code>zmax</code> to <code>outlier_value[2]</code></li></ul>(default: <code>NaN</code>).</li></ul><p><strong>Returns</strong></p><p>A copy of <code>var</code> with missing values converted to <code>NaN</code>, masking and range handling applied, and scaled as requested.</p><p><strong>Notes</strong></p><ul><li>The input <code>var</code> is not modified in place.</li><li>Range limits are computed from <code>var</code> (not the masked array) when <code>zrange === nothing</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Functions.jl#L34-L72">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.contour3D_ice2D_topo!-NTuple{4, Any}"><a class="docstring-binding" href="#ModelAnalysis.contour3D_ice2D_topo!-NTuple{4, Any}"><code>ModelAnalysis.contour3D_ice2D_topo!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Add surface elevation or ice thickness contours to a predefined axis. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Plots_ice.jl#L156-L158">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.contour_ice2D_bath!-NTuple{4, Any}"><a class="docstring-binding" href="#ModelAnalysis.contour_ice2D_bath!-NTuple{4, Any}"><code>ModelAnalysis.contour_ice2D_bath!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Add bathymetry contours to a predefined axis. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Plots_ice.jl#L134-L136">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.contour_ice2D_topo!-NTuple{4, Any}"><a class="docstring-binding" href="#ModelAnalysis.contour_ice2D_topo!-NTuple{4, Any}"><code>ModelAnalysis.contour_ice2D_topo!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Add surface elevation or ice thickness contours to a predefined axis. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Plots_ice.jl#L144-L146">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.global_extrema-Tuple{Any}"><a class="docstring-binding" href="#ModelAnalysis.global_extrema-Tuple{Any}"><code>ModelAnalysis.global_extrema</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">global_extrema(arrays)</code></pre><p>Compute the global minimum and maximum over multiple arrays.</p><p>For each array in <code>arrays</code>, the local extrema are computed using <code>extrema</code>. The overall minimum of all minima and the overall maximum of all maxima are then returned.</p><p><strong>Arguments</strong></p><ul><li><code>arrays</code>: An iterable of array-like objects containing numeric values.</li></ul><p><strong>Returns</strong></p><p>A tuple <code>(min, max)</code> giving the global extrema across all input arrays.</p><p><strong>Notes</strong></p><ul><li>Each element of <code>arrays</code> is first collected before calling <code>extrema</code>, allowing generators and other lazy iterables to be used as input.</li><li>All arrays must contain at least one element and support <code>extrema</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">a = [1, 2, 3]
b = [-5, 0, 4]

lims = global_extrema((a, b))
# returns (-5, 4)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Functions.jl#L157-L185">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.heatmap_ice2D_bathymetry!-NTuple{4, Any}"><a class="docstring-binding" href="#ModelAnalysis.heatmap_ice2D_bathymetry!-NTuple{4, Any}"><code>ModelAnalysis.heatmap_ice2D_bathymetry!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Add bathymetry shading to a predefined axis.  By default, greyshading used, with dark at z=colorrange[1] to white at z=colorrange[2]. z_bed should be modified externally before using this routine (masking, etc) to facilitate making animations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Plots_ice.jl#L119-L124">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.heatmapclip!-Tuple"><a class="docstring-binding" href="#ModelAnalysis.heatmapclip!-Tuple"><code>ModelAnalysis.heatmapclip!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">heatmapclip!(args...; scale=identity, colorrange=nothing, colormap=nothing, tol=1e-6, kwargs...)</code></pre><p>Create a heatmap with automatic clipping indicators on the colorbar.</p><p>This function extends <code>Makie.heatmap!</code> by automatically setting <code>lowclip</code> and <code>highclip</code>  colors when data values fall outside the specified <code>colorrange</code>. Clipped values are  indicated by colored triangles at the ends of the colorbar using the first and last  colors of the colormap.</p><p><strong>Arguments</strong></p><ul><li><code>args...</code>: Positional arguments matching any <code>heatmap!</code> signature:<ul><li><code>heatmapclip!(ax, z)</code>: Plot matrix <code>z</code> on axis <code>ax</code></li><li><code>heatmapclip!(ax, x, y, z)</code>: Plot matrix <code>z</code> with coordinates <code>x</code>, <code>y</code> on axis <code>ax</code></li></ul></li></ul><p><strong>Keywords</strong></p><ul><li><code>scale=identity</code>: Function to transform data values (e.g., <code>log10</code>, <code>sqrt</code>). Applied to  both <code>z</code> and <code>colorrange</code>.</li><li><code>colorrange=nothing</code>: Tuple <code>(low, high)</code> defining the color scale limits. If <code>nothing</code>,  defaults to <code>(minimum(z), maximum(z))</code> (excluding NaN values).</li><li><code>colormap=nothing</code>: Colormap to use. If <code>nothing</code>, defaults to <code>ColorSchemes.roma</code>.</li><li><code>tol=1e-6</code>: Tolerance for determining if data extends beyond <code>colorrange</code>. Values below  <code>colorrange[1] - tol</code> trigger <code>lowclip</code>; values above <code>colorrange[2] + tol</code> trigger <code>highclip</code>.</li><li><code>kwargs...</code>: Additional keyword arguments passed to <code>heatmap!</code>.</li></ul><p><strong>Returns</strong></p><ul><li>Returns the heatmap plot object <code>hm</code></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using CairoMakie, ColorSchemes

# Basic usage with automatic clipping
z = randn(20, 20) # data range ±3
fig = Figure(); ax = Axis(fig[1, 1])
hm = heatmapclip!(ax, z, colorrange=(-1, 1))
Colorbar(fig[1, 2],hm)
fig

# To see automatic clipping changes,
# change colorrange:
colorrange=(-4, 1) # no lowclip
colorrange=(-1, 4) # no highclip
colorrange=(-4, 4) # no lowclip or highclip</code></pre><p><strong>Notes</strong></p><ul><li>NaN values in <code>z</code> are automatically excluded when computing data range</li><li>Clipping indicators only appear when data actually extends beyond <code>colorrange</code> (within <code>tol</code>)</li><li>The <code>scale</code> transformation is applied after clipping detection. It is applied both to <code>z</code> and <code>colorrange</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Plots.jl#L247-L297">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.preprocess_ice2D_variable-Tuple{Any}"><a class="docstring-binding" href="#ModelAnalysis.preprocess_ice2D_variable-Tuple{Any}"><code>ModelAnalysis.preprocess_ice2D_variable</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Preprocess variable for plotting</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Plots_ice.jl#L31-L33">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.print_row-Tuple{Any}"><a class="docstring-binding" href="#ModelAnalysis.print_row-Tuple{Any}"><code>ModelAnalysis.print_row</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">print_row(row; sep = &quot;&quot;)</code></pre><p>Pretty-print the contents of a table row as two columns aligned as <code>name   value</code> pairs.</p><p>Each column name and its corresponding value are printed on a separate line, with the column name left-aligned to a fixed width for readability.</p><p><strong>Arguments</strong></p><ul><li><code>row</code>: A table row supporting <code>names(row)</code> and iteration over values (e.g. a <code>DataFrameRow</code>).</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>sep</code>: Optional separator inserted between the column name and value. If non-empty, it is surrounded by single spaces on both sides (e.g. <code>sep=&quot;:&quot;</code> prints <code>&quot;name : value&quot;</code>). Default is no separator.</li></ul><p><strong>Output</strong></p><p>Prints formatted lines to standard output; nothing is returned.</p><p><strong>Notes</strong></p><ul><li>Column names are padded to a width of 20 characters using <code>rpad</code>.</li><li>The function assumes that <code>names(row)</code> and iteration over <code>row</code> are ordered consistently.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using DataFrames

df = DataFrame(a = 1, long_name = 2.5)
print_row(df[1, :]; sep=&quot;=&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Functions.jl#L113-L145">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.Ensembles.Ensemble-NTuple{6, Any}"><a class="docstring-binding" href="#ModelAnalysis.Ensembles.Ensemble-NTuple{6, Any}"><code>ModelAnalysis.Ensembles.Ensemble</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Ensemble(args...; sort_by=&quot;&quot;)</p><p>Create an <code>Ensemble</code> object, which stores simulation members, paths, and associated metadata.</p><p><strong>Construction Methods</strong></p><ol><li><strong>From explicit components:</strong></li></ol><pre><code class="language-julia hljs">Ensemble(N, path, set, p, s, v)</code></pre><ul><li><code>N::Int</code>: Number of ensemble members.</li><li><code>path::Vector{String}</code>: Paths to simulations.</li><li><code>set::Vector{Int}</code>: Indicates which ensemble set each member belongs to.</li><li><code>p::DataFrame</code>: Ensemble info table.</li><li><code>s::DataFrame</code>: Plotting parameters table.</li><li><code>v</code>: Optional additional data. This constructor sets internal weights to <code>nothing</code> and stores <code>v</code>.</li></ul><ol><li><strong>From a single ensemble directory:</strong></li></ol><pre><code class="language-julia hljs">Ensemble(ens_path::String; sort_by=&quot;&quot;)</code></pre><ul><li><code>ens_path</code>: Path to the ensemble directory or single simulation.</li><li><code>sort_by</code>: Optional column name in the info table to sort the members.</li></ul><ol><li><strong>From multiple ensemble directories:</strong></li></ol><pre><code class="language-julia hljs">Ensemble(ens_path::Vector{String}; sort_by=&quot;&quot;)</code></pre><ul><li><code>ens_path</code>: Vector of paths to ensemble directories.</li><li><code>sort_by</code>: Optional column name to sort the combined members.</li></ul><p><strong>Returns</strong></p><p>An <code>Ensemble</code> object containing:</p><ul><li><code>N</code>: Number of members.</li><li><code>path</code>: Vector of paths to simulations.</li><li><code>set</code>: Vector indicating the set of each member.</li><li><code>p</code>: DataFrame with ensemble info.</li><li><code>s</code>: DataFrame with plotting parameters.</li><li><code>weights</code>: Optional weights or <code>nothing</code>.</li><li><code>v</code>: Optional additional data.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Ensembles.jl#L187-L236">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.Ensembles.collect_variable-Tuple{AbstractEnsemble, Symbol, Symbol}"><a class="docstring-binding" href="#ModelAnalysis.Ensembles.collect_variable-Tuple{AbstractEnsemble, Symbol, Symbol}"><code>ModelAnalysis.Ensembles.collect_variable</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>collect_variable(ens::AbstractEnsemble, domain::Symbol, var::Symbol; default=missing)</p><p>Collects a specified variable <code>var</code> from the given <code>domain</code> across all model members in an ensemble <code>ens</code>.</p><p><strong>Arguments</strong></p><ul><li><code>ens::AbstractEnsemble</code>: An ensemble object containing multiple model members.</li><li><code>domain::Symbol</code>: The domain key within each model run (e.g., <code>:atm</code>, <code>:ocn</code>) from which to extract the variable.</li><li><code>var::Symbol</code>: The variable key to collect (e.g., <code>:t2m</code>, <code>:sst</code>).</li><li><code>default</code>: Optional keyword argument specifying the value to use if the variable <code>var</code> is not present in a particular model run’s domain dictionary. Defaults to <code>missing</code>.</li></ul><p><strong>Returns</strong></p><ul><li>A vector where each element corresponds to the value of <code>var</code> in the specified <code>domain</code> for each model run in the ensemble. If a model run does not contain the variable, the <code>default</code> value is used instead.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">t2m_values = collect_variable(ensemble, :atm, :t2m)
sst_values = collect_variable(ensemble, :ocn, :sst; default=nothing)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Ensembles.jl#L652-L672">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.Ensembles.ensemble_get_var!-Tuple{AbstractEnsemble, String, String}"><a class="docstring-binding" href="#ModelAnalysis.Ensembles.ensemble_get_var!-Tuple{AbstractEnsemble, String, String}"><code>ModelAnalysis.Ensembles.ensemble_get_var!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ensemble_get_var!(
    ens::AbstractEnsemble,
    filename::String,
    varname::String;
    subset::Union{Nothing,NamedTuple,Dict} = nothing,
    newname = nothing,
    scale::Real = 1.0,
)</code></pre><p>Load a variable from a file for each member of an ensemble and store it in the ensemble object.</p><p>The variable <code>varname</code> is read from <code>filename</code> for all ensemble members listed in <code>ens.path</code>. The resulting data are stored in <code>ens.v</code> under the key <code>newname</code>, with one entry per ensemble member. If a file is missing for a given member, the corresponding entry is set to <code>nothing</code>.</p><p><strong>Arguments</strong></p><ul><li><code>ens::AbstractEnsemble</code>: Ensemble object containing the member paths.</li><li><code>filename::String</code>: Name of the file to read from each ensemble member directory.</li><li><code>varname::String</code>: Name of the variable to load from the file.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>subset::Union{Nothing,NamedTuple,Dict} = nothing</code>: Optional subset specification passed to the low-level loading routine (e.g. for selecting indices, ranges, or dimensions).</li><li><code>newname = nothing</code>: Name under which the variable is stored in the ensemble. Defaults to <code>varname</code>.</li><li><code>scale::Real = 1.0</code>: Factor by which the loaded variable is multiplied before storage.</li></ul><p><strong>Returns</strong></p><ul><li><code>Nothing</code>: The ensemble object is modified in place.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Load surface speed for all ensemble members
ensemble_get_var!(ens, &quot;timesteps.nc&quot;, &quot;speed&quot;)

# Load and rename a variable, applying a scaling factor
ensemble_get_var!(
    ens,
    &quot;timesteps.nc&quot;,
    &quot;dt_now&quot;;
    newname = &quot;dt&quot;,
    scale   = 86400.0,  # convert from seconds to days
)

# Load a subset of a variable
ensemble_get_var!(
    ens,
    &quot;fields.nc&quot;,
    &quot;temperature&quot;;
    subset = (z = 1,),
)</code></pre><p><strong>Notes</strong></p><ul><li>The order of stored values follows the order of ensemble members in ens.path.</li><li>Missing files do not raise an error; instead, nothing is stored for that member.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Ensembles.jl#L433-L495">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.Ensembles.ensemble_init-Tuple{String}"><a class="docstring-binding" href="#ModelAnalysis.Ensembles.ensemble_init-Tuple{String}"><code>ModelAnalysis.Ensembles.ensemble_init</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ensemble_init(ens_path::String;sort_by=&quot;&quot;,verbose=true)</code></pre><p>Initialize an ensemble from a directory path. Reads <code>info.txt</code> if present to build a DataFrame of ensemble members; otherwise assumes a single simulation. Returns a tuple <code>(N, path, set, p, s)</code> with the number of members, paths to each simulation, a placeholder integer array, the ensemble info DataFrame, and a DataFrame of plotting parameters. Optionally sorts the ensemble by a column in the info DataFrame if <code>sort_by</code> is given. Prints summary information if <code>verbose</code> is <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Ensembles.jl#L56-L65">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ModelAnalysis.Ensembles.ensemble_init-Tuple{Vector{String}}"><a class="docstring-binding" href="#ModelAnalysis.Ensembles.ensemble_init-Tuple{Vector{String}}"><code>ModelAnalysis.Ensembles.ensemble_init</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ensemble_init(ens_path::Vector{String};sort_by=&quot;&quot;,verbose=true)</code></pre><p>Initialize an ensemble from multiple directories. Calls the single-path <code>ensemble_init</code> for each entry in <code>ens_path</code> and combines the results, returning a tuple <code>(N, path, set, p, s)</code>     with the total number of members, paths to all simulations, a vector indicating which set     each member belongs to, a combined ensemble info DataFrame, and a combined plotting parameters     DataFrame. Optionally sorts all members by a column in the DataFrame if <code>sort_by</code> is given.     Prints a summary if <code>verbose</code> is <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/fesmc/ModelAnalysis.jl/blob/26bf9759a2c6c7b2adc6377d3622f7abba4e675e/src/Ensembles.jl#L137-L146">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../plotting-with-makie/">« Plotting with Makie</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 27 January 2026 14:52">Tuesday 27 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
